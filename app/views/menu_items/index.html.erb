<div class="container mt-4">
  <h1>Menu Items</h1>

  <div class="mb-3">
    <%= link_to 'Add New Item', new_menu_item_path, class: 'btn btn-primary' %>
  </div>

  <table class="table table-striped">
    <thead>
      <tr>
        <th>Name</th>
        <th>Price</th>
        <th>Description</th>
        <th>Available</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <% @menu_items.each do |menu_item| %>
        <tr>
          <td><%= menu_item.name %></td>
          <td><%= number_to_currency(menu_item.price) %></td>
          <td><%= menu_item.description %></td>
          <td>
            <% if menu_item.availability %>
              <span class="badge bg-success">Yes</span>
            <% else %>
              <span class="badge bg-danger">No</span>
            <% end %>
          </td>
          <td>
            <%= link_to 'Edit', edit_menu_item_path(menu_item), class: 'btn btn-sm btn-outline-secondary' %>

            <%= button_to 'Remove', menu_item_path(menu_item), method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-sm btn-outline-danger' %>

            <% if menu_item.availability %>
              <%= button_to 'Mark as Unavailable', menu_item_path(menu_item, menu_item: { availability: false }), method: :patch, class: 'btn btn-sm btn-warning' %>
            <% else %>
              <%= button_to 'Mark as Available', menu_item_path(menu_item, menu_item: { availability: true }), method: :patch, class: 'btn btn-sm btn-success' %>
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
